---

title: 以太坊的gas limit和gas price是咋回事？

date: 2018-07-25

tags: 区块链

---

>这篇文章告诉你，以太坊为什么需要gas limit和gas price。

如果你用metamask插件，你会发现它有一个地方让你设置gas limit和gas price。比如转账时，我就需要设置这两个值。这是干嘛的？

简单说，转账需要手续费，这两个值就是设置手续费的。

区块链是一个分布式账本，很多节点（矿工）在记账，记账服务并不是免费的，手续费就是用于支付记账服务的。既然如此，节点（矿工）为什么不直接公布手续费是多少，用户直接支付不行吗？怎么要用户自己设置？以太坊采用了竞拍的方式，谁出的手续费高，节点（矿工）就优先给谁记账，谁的转账就先成功。如果手续费给的很低，可能要等很久才能转账成功。

用户支付多少手续费合适呢？手续费和gas limit、gas price什么关系？

以太坊作为区块链2.0的代表，支持智能合约。智能合约可以有非常复杂的逻辑，如果有人恶意的写一个无限循环的智能合约，那会占用链的大量计算资源，导致整个链的性能降低甚至卡死。所以以太坊规定执行的每个操作都会消耗一定量的gas，如果事先设置的gas总量被用光，那执行就失败，如果事先设置的gas总量还有剩余，就会退回给用户。这就是gas limit。

gas避免了恶意的使用计算资源，然而还要兼顾记账的竞争机制，也就是谁出价高谁的交易优先被节点记账。所以用户对gas设定价格，gas价格越高，代表愿意支付的手续费越高。

明白了gas limit好gas price的由来，到底设置多少合适呢？可以在这个网站[https://ethgasstation.info/](https://ethgasstation.info/)查询gas价格作为参考。

以后有时间，再写写gas limit是怎么计算得到的。



